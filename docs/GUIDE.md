# 开发指南

### 前端开发
```bash
cd frontend
npm install
npm run dev
```

### 后端开发
```bash
cd backend
./mvnw spring-boot:run
```

## 网站整体结构概览

### 首页（核心入口）
1. **顶部导航栏**  
   - 左侧：网站 Logo（跳转主页）  
   - 中间：搜索栏，可按模型名称、关键词、描述进行搜索  
   - 右侧：
     - 若未登录：显示「登录 / 注册」按钮  
     - 若已登录：显示用户头像与消息图标  
       - 点击头像 → 进入用户主页  
       - 鼠标悬停消息图标 → 弹出下拉框（赞、私信、系统通知）

2. **主展示区**
   - 轮播展示精选模型或场景封面（可点击跳转详情）
   - 下方分为两个区块：
     - **推荐创作者**：展示活跃作者与粉丝数量
     - **推荐模型**：展示热门模型列表（封面+标题+作者）

3. **搜索结果页**
   - 从搜索栏跳转进入  
   - 可进一步筛选：
     - 按类型：模型 / 作者  
     - 按排序：按时间 / 按热门程度  
   - 支持分页加载。

---

### 创作与上传流程

1. 用户点击导航栏「创作」按钮 → 进入上传页面  
2. 在上传页中依次完成以下内容：
   - 输入模型标题与描述  
   - 选择模型分类（如人物、场景、材质等）  
   - 可添加标签（tags）用于搜索  
   - 上传封面图（thumbnail）  
   - 上传预览图（previews）  
   - 选择模型文件（`.glb`，含贴图）  
3. 上传成功后，系统会在本地（前端）解析模型并显示预览, 与模型详情页类似
4. 用户确认无误后点击「发布」按钮，正式提交模型信息与文件路径至服务器数据库。  

---

### 模型详情页

1. 用户从首页或搜索结果点击模型卡片进入详情页  
2. 页面结构：
   - 上方：模型名称, 接下来是「预览图 (如果上传了的话) / 模型展示」按钮
   - 中间：
     - 如果是预览图, 向左向右切换图片
     - 如果是模型展示, 先展示模型封面图, 点击“播放”按钮进入实时 3D 渲染: `Three.js` 场景，可旋转、缩放、平移相机  
   - 右侧：作者信息区（头像、昵称、关注按钮）  
   - 下方：
     - 点赞、收藏、评论模块  
     - 评论区支持分页加载与回复功能  
     - 下载按钮（仅登录用户可用）

---

### 用户主页

1. 显示作者头像、简介、粉丝数与关注数、获赞数和下载数
2. 展示作者上传和收藏的所有模型（以卡片形式分页显示）  
3. 登录用户可点击「关注」或「取消关注」, 以及「私信」
4. 可跳转到作品详情页

---

### 通知与消息系统

1. 顶部导航栏的消息图标：
   - 悬停弹出通知列表（新赞、评论、系统消息）  
2. 每条通知可点击跳转相关模型或用户页。  

---

### 渲染与视觉计划

1. **基础渲染功能**
   - 使用 `Three.js` 实现 GLB 模型加载与控制（OrbitControls）
   - 支持旋转、缩放、平移
   - 模型解析错误需有提示与回退机制  

2. **可选高级渲染功能（拓展阶段）**
   - **灯光, 阴影, 反射, PBR 等, 可以在后期版本中实现**

---

## 用户权限说明

| 功能 | 登录要求 |
| :-- | :-- |
| 浏览模型 | 否 |
| 搜索模型 | 否 |
| 上传模型 | 是 |
| 下载模型 | 是 |
| 点赞 / 收藏 / 评论 | 是 |
| 查看消息 / 通知 | 是 |

---

## 数据存储与接口概要

- 数据库：
  - `users`：存储用户信息、关注关系
  - `models`：存储模型元数据及文件路径
  - `comments`：存储评论
  - `notifications`：存储系统消息和互动提醒

- 接口：
  - 用户认证：`/api/auth/login`、`/api/auth/register`
  - 模型管理：`/api/models`、`/api/models/:id`、`/api/upload`
  - 互动功能：点赞、收藏、评论接口
  - 通知系统：`/api/notifications`

> 详细数据库设计, 和接口参数、返回值及前后端任务请参考 [`API规范.md`](API规范.md)。


---

## 总体开发阶段规划

| 阶段 | 功能目标 | 说明 |
| :-- | :-- | :-- |
| **阶段 一 (7 - 9 周, 现在是第7周)** | 用户注册 / 登录 / 模型上传 / 模型搜索 / 模型展示 | 完成 MVP |
| **阶段 二 (10 - 11 周)** | 用户主页 / 点赞 / 收藏 / 关注系统 | 建立社区结构 |
| **阶段 三 (12 - 13 周)** | 私信系统 / 评论系统 / 通知系统 | 增强交流功能 |
| **阶段 4（可选）** | 渲染增强 | 视觉拓展 |